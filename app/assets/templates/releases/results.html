<div ng-controller="ChangeCtrl">
  <h1>{{ title }}</h1>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Hostname</th>
        <th>Revision</th>
        <th>Collection</th>        
        <th>Nodes</th>
        <th>Change</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="change in changes">
        <td>{{change._id}}</td>
        <td>{{change._rev }}</td>
        <td>{{change.collection}}</td>
        <td>          
          <span ng-repeat="node in change.nodes">
              <pre>{{node}}</pre>
          </span>
        </td>
        <td>{{change.output}}</td>
      </tr>
    </tbody>
    
    
    <tbody>
      <tr ng-repeat="result in results">
        <td>{{result._id}}</td>
        <td>{{result._rev }} {{result.msgtime && result.msgtime * 1000 | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
        <td>{{result.collection}}</td>
        <td>{{result.body.statusmsg && result.body.statusmsg || 'CHANGE' }}</td>
        <!-- td>{{result.body.data.message}}</td -->
        <td>          
          <span ng-repeat="change in result.changes">
              <pre>{{change}}</pre>
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>